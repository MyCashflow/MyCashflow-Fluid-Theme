<div data-cart-sub-total="{CartSubTotal}" data-cart-total-items="{CartTotalItems}" data-cart-open-total="{CartOpenTotal}" style="display: none;"></div>
{CartProducts(
	before: '
		{Notifications(group: 'cart')}
		<form class="DrawerCart" action="/cart/update/" method="post">
			<div class="MiniCartProducts">',
	after: '
			</div>
		</form>
		<div class="MiniCartTotals">
			{CartSubTotal(
				before: '<div class="MiniCartTotal"><span>{%Subtotal}: </span><span translate="no">',
				after: '</span></div>'
			)}
			{CartShippingCosts(
				before: '<div class="MiniCartTotal"><span>{%CheckoutShipping}: {CartShippingMethod} </span><span translate="no">',
				after: '</span></div>'
			)}
			{CartPaymentCosts(
				before: '<div class="MiniCartTotal"><span>{%PaymentMethod}: {CartPaymentMethod} </span><span translate="no">',
				after: '</span></div>'
			)}
			{CartDiscount(
				before: '<div class="MiniCartTotal MiniCartDiscounts"><span>{CartDiscountLabel} </span><span translate="no"> -',
				after: '</span></div>'
			)}
			{CartGiftCards(
				before: '
					{CartTotal(
						before: '<div class="MiniCartTotal"><span>{%Total}: </span><span translate="no">',
						after: '</span></div>'
					)}',
				after: '
					{CartOpenTotal(
						before: '<div class="MiniCartTotal HighlightTotal"><span>{%CartOpenTotal}: </span><span translate="no">',
						after: '</span></div>'
					)}
					{Helper(
						case: 'VatFreePricing',
						file: '{{
							{CartOpenTotal(
								includetax: 'true',
								before: '<div class="MiniCartTotal"><span>{%CartOpenTotal} ({%VAT} {CartTaxRate}&nbsp;%): </span><span translate="no">',
								after: '</span></div>'
							)}
						}}'
					)}',
				helper: '{{
					<div class="MiniCartTotal">
						<span>{%CartPaidByGiftCard}: <a href="#" data-drawer-toggle="gift-cards" class="GiftCardDetails">{%CartGiftCardDetaild}</a></span>  <span>{GiftCardBalanceReserved}</span>
					</div>
				}}',
				or: '
					{CartTotal(
						before: '<div class="MiniCartTotal HighlightTotal"><span>{%Total}: </span><span translate="no">',
						after: '</span></div>'
					)}
					{Helper(
						case: 'VatFreePricing',
						file: '{{
							{CartTotal(
								includetax: 'true',
								before: '<div class="MiniCartTotal"><span>{%Total} ({%VAT} {CartTaxRate}&nbsp;%): </span><span translate="no">',
								after: '</span></div>'
							)}
						}}'
					)}'
			)}
		</div>
		{Helper(file: 'helpers/klarna-osm/minicart-{Setting(name: 'klarna_osm_minicart')}')}
		{CartLoyaltyPoints(
			before: '
				<div class="HighlightPoints MiniCartCartLoyaltyPoints Text-Center" data-loyalty-cart-points="',
			after: '">
					<p>
						{CustomerLoyaltyPoints(
							before: '<span style="display: none;">',
							after: '</span>
								{%LoyaltyProgramCartPointsInfo} <br><a href="{LoyaltyProgramInfoURL}" data-drawer-toggle="loyalty">{%LoyaltyProgramReadMoreLinkText}</a>',
							or: '
								{%LoyaltyProgramJoinInfo} <br><a href="{LoyaltyProgramInfoURL}" data-drawer-toggle="loyalty">{%LoyaltyProgramJoin}</a>'
						)}
					</p>
				</div>'
		)}
		<div class="MiniCartActions">
			<a class="Button Button-Primary Button-Big OrderProducts" href="/checkout/">{%OrderProducts}</a>
			<a class="Button Button-Block" href="/cart/">{%ShoppingCartEdit}</a>
		</div>
		<details class="CartCampaignDetails">
			<summary class="Text-Center">
				<strong>{Text(code: 'CampaignCodeOrGiftCard', or: '{%CampaignCodeInquiry}')}</strong>
			</summary>
			<div class="DrawerCampaignCode">
				{CampaignCode(
					action: 'cart',
					before: '<div class="CampaignCodeForm">',
					after: '</div>'
				)}
			</div>
		</details>
		{Helper(file: 'helpers/discount-codes-notification')}',
	or: '
		<div class="DrawerSection">
			<div class="Notification">
				{%ShoppingCartIsEmpty}
			</div>
		</div>',
	helper: '{{
		<article class="Product MiniCartProduct {CartProductClass}">
			{ProductImage(
				imagesize: 'mini',
				link: 'false',
				before: '<a class="MiniCartProductImage" href="{ProductURL}" {ProductLinkData}>',
				after: '</a>'
			)}
			<div class="MiniCartProductInfo">
				<div class="Flex FlexGap FlexAlign-SpaceBetween">
					<div>
						<a class="MiniCartProductName" href="{ProductURL}" {ProductLinkData}>{CartProductName} {CartProductVariation(before: '&#32;â€“&#32;')}</a>
						{CartProductChoices(
							before: '
								<details class="CartProductDetails CompactDl Text-Small">
									<summary>{%CartGiftCardDetaild}</summary>',
							after: '</details>'
						)}
						{CartProductBundleDetails(
							before: '
								<details class="CartProductBundleDetails CompactUl Text-Small">
									<summary>{%CartGiftCardDetaild}</summary>',
							after: '</details>'
						)}
					</div>
					<p class="MiniCartProductPrices" translate="no" data-product-quantity="{CartProductQuantity(mode: 'preview')}">
						{CartProductComparePrice(
							currencysymbol: 'true',
							before: '
								{CartProductPrice(
									currencysymbol: 'true',
									before: '<span class="ProductDiscountPrice">',
									after: '</span>'
								)}
								<span class="ProductComparePrice">',
							after: '</span>',
							or: '
								{CartProductPrice(
									currencysymbol: 'true',
									before: '<span class="ProductCurrentPrice">',
									after: '</span>'
								)}'
						)}
						<br><a href="#EditProduct-{CartProductId}" class="MiniCartProductEdit" data-toggle-visible-link>{%Edit}</a>
					</p>
				</div>
			</div>
			<div id="EditProduct-{CartProductId}" class="MiniCartProductActions" style="display: none;">
				{CartProductQuantity} {CartProductDelete}
			</div>
		</article>
	}}'
)}
